VS Code와 AWS를 연결하여 개발 환경을 구축할 때, 단순히 연결하는 것을 넘어 성능과 보안을 고려한 최적화 설정은 필수적입니다. 특히 저사양 인스턴스(t2.micro 등)에서 발생하는 프리징 현상을 방지하고 개발 생산성을 높이는 핵심 설정들을 정리해 드립니다.

---

## 1. AWS Toolkit 및 인증 최적화

VS Code에서 AWS 리소스를 직접 관리하기 위해 **AWS Toolkit** 확장을 사용합니다. 이때 인증 방식을 최적화하면 보안과 편의성을 동시에 잡을 수 있습니다.

* **IAM Identity Center (IAM 아이덴티티 센터) 활용**: 기존의 `access_key` 방식보다 보안성이 높은 단일 로그인(SSO) 방식을 권장합니다.
* **프로파일 분리**: `~/.aws/config` 파일에 업무용, 개인용, 운영용 프로파일을 분리하여 관리하고, VS Code 하단 상태 표시줄에서 빠르게 전환할 수 있도록 설정하세요.

---

## 2. Remote - SSH 연결 성능 최적화 (EC2 사용자 필독)

AWS EC2 인스턴스에 직접 연결하여 개발할 때, VS Code의 원격 서버 프로세스가 메모리와 CPU를 과도하게 점유하는 경우가 많습니다.

### 가. 가상 메모리(SWAP) 설정

`t2.micro`와 같이 RAM이 1GB인 인스턴스는 VS Code 연결 시 시스템이 멈출 수 있습니다. 이를 방지하기 위해 SSD 공간을 RAM처럼 쓰는 스왑 파일을 생성해야 합니다.

```bash
# 2GB 크기의 스왑 파일 생성 예시
sudo dd if=/dev/zero of=/swapfile bs=128M count=16
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile

# 재부팅 시에도 적용되도록 /etc/fstab에 추가
echo '/swapfile swap swap defaults 0 0' | sudo tee -a /etc/fstab

```

### 나. VS Code 서버 리소스 제한

원격 연결 시 `vscode-server`가 인덱싱 작업을 하느라 CPU를 점유하는 것을 막기 위해 다음 설정을 VS Code의 `settings.json` (Remote 환경)에 추가합니다.

* **파일 감시 제외**: 불필요한 라이브러리 폴더 감시를 끕니다.
* `"files.watcherExclude": { "**/.git/objects/**": true, "**/node_modules/**": true }`


* **검색 인덱싱 제외**:
* `"search.exclude": { "**/node_modules": true, "**/dist": true }`



---

## 3. 서버리스 및 개발 편의성 최적화

### 가. AWS SAM CLI 통합

**SAM (Serverless Application Model, 서버리스 애플리케이션 모델)**을 연동하면 Lambda 함수를 로컬에서 디버깅하고 배포하기 최적화된 환경이 구성됩니다.

> **주의**: 로컬에서 Docker를 실행 중이어야 SAM 로컬 테스트가 가능합니다.

### 나. Amazon Q (구 CodeWhisperer) 활용

AI 코드 생성 도구인 **Amazon Q Developer**를 활성화하면 AWS API 사용법에 특화된 코드 자동 완성 기능을 무료 티어 범위 내에서 사용할 수 있습니다.

---

## 4. 비용 및 보안 체크포인트

| 항목 | 최적화 팁 | 관련 비용 |
| --- | --- | --- |
| **탄력적 IP** | 인스턴스 중지 시에도 주소가 바뀌지 않도록 **EIP (Elastic IP, 탄력적 IP)**를 할당하세요. | 인스턴스 연결 시 무료 (미연결 시 과금) |
| **보안 그룹** | SSH(22번 포트)를 `0.0.0.0/0`이 아닌 내 현재 IP로만 제한하세요. | 무료 |
| **자동 종료** | 개발 시간을 제외하고 인스턴스를 자동으로 끄는 Lambda 스케줄러를 구성하세요. | EC2 절감 효과 |

---

### 주석(Annotations)

* **IAM (Identity and Access Management, 식별 및 액세스 관리)**: AWS 리소스에 대한 액세스를 안전하게 제어하기 위한 서비스입니다.
* **EIP (Elastic IP, 탄력적 IP)**: 인터넷을 통해 접속할 수 있는 고정적인 공인 IPv4 주소입니다.
* **SAM (Serverless Application Model, 서버리스 애플리케이션 모델)**: 서버리스 애플리케이션 구축을 위한 오픈 소스 프레임워크입니다.

Next Step: AWS 환경 설정 실습 가이드 생성 도와드릴까요?
