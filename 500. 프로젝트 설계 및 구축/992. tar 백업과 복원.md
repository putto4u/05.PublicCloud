리눅스 및 유닉스 계열 시스템 아키텍처에서 **tar** (Tape Archiver; 테이프 아카이브)는 파일과 디렉터리를 하나의 아카이브 파일로 묶어 관리하는 표준 도구입니다. 단순한 파일 묶기부터 데이터 압축, 권한 유지(Permission Preservation; 권한 보존)까지 백업의 핵심 기능을 수행합니다.

---

## 1. tar 명령어의 핵심 옵션 정리

**tar** 명령어는 실행하려는 작업의 목적에 따라 필수 옵션과 보조 옵션을 조합하여 사용합니다.

| 분류 | 옵션 | 기능 설명 | 전체 용어 및 한국어 의미 |
| --- | --- | --- | --- |
| **작업 모드** | **-c** | 아카이브 생성 | **Create** (생성) |
|  | **-x** | 아카이브 해제 (복원) | **eXtract** (추출) |
|  | **-t** | 내용 목록 확인 | **List** (목록 열람) |
| **압축 방식** | **-z** | gzip 형식 사용 | **GNU zip** (GNU 압축 프로그램) |
|  | **-j** | bzip2 형식 사용 | **Burrows-Wheeler block-sorting** (Bzip2 압축) |
|  | **-J** | xz 형식 사용 | **LZMA2 compression** (XZ 고압축 방식) |
| **공통/필수** | **-v** | 처리 과정 상세 출력 | **Verbose** (상세 정보 출력) |
|  | **-f** | 대상 파일명 지정 | **File** (파일 이름 지정) |
|  | **-p** | 파일 권한 유지 | **Preserve permissions** (권한 및 소유권 유지) |

> **주의사항:** `-f` 옵션은 반드시 아카이브 파일 이름 바로 앞에 위치해야 합니다. (예: `tar -cvzf backup.tar.gz` 형식 권장)

---

## 2. 실무 백업 전략: 압축과 권한 보존

실무에서는 단순히 파일을 묶는 것에 그치지 않고, 저장 공간 효율을 위한 **압축**과 시스템 복구 시 보안 설정을 유지하기 위한 **권한 보존**이 핵심입니다.

### 2.1 증분 백업 (Incremental Backup)

매번 전체 데이터를 백업하는 것은 비효율적입니다. 수정된 데이터만 골라 백업할 수 있습니다.

```bash
tar -cvpzf backup_$(date +%Y%m%d).tar.gz -g backup_log.snar /home/data

```

* **-g (Listed incremental; 나열된 증분):** `backup_log.snar` 스냅샷 파일을 참조하여 변경된 파일만 아카이브합니다.

### 2.2 대용량 로그/DB 백업 시 제외 처리

불필요한 임시 파일이나 캐시를 제외하고 백업하는 것이 실무의 정석입니다.

```bash
tar -cvpzf web_backup.tar.gz --exclude='/var/www/html/cache' /var/www/html

```

* **--exclude (Exclude; 제외):** 특정 경로나 패턴을 백업 대상에서 누락시킵니다.

---

## 3. 안전한 복원 (Restore) 및 검증

백업 파일의 무결성을 확인하고 원하는 위치에 정확히 복원하는 절차입니다.

### 3.1 특정 디렉터리로 복원

현재 위치가 아닌 서비스 가동 경로로 직접 복원할 때 사용합니다.

```bash
sudo tar -xvpzf backup_data.tar.gz -C /var/www/data

```

* **-C (Change directory; 디렉터리 변경):** 압축을 해제할 대상 경로를 지정합니다.

### 3.2 복원 전 내용물 미리보기

실수로 덮어쓰는 것을 방지하기 위해 목록을 먼저 확인합니다.

```bash
tar -tvf backup_data.tar.gz

```

---

## 4. 실무 팁: 파이프라인(Pipeline) 활용

네트워크를 통해 다른 서버로 직접 백업 데이터를 전송하거나, 표준 출력을 활용하여 중간 저장 없이 백업을 수행할 수 있습니다.

```bash
tar -cvpz /home/user | ssh remote_server "cat > backup.tar.gz"

```

> **설명:** 로컬의 `/home/user`를 압축함과 동시에 **SSH** (Secure Shell; 보안 셸)를 통해 원격 서버로 즉시 전송하여 로컬 디스크 공간 부족 문제를 해결합니다.

---

**Next Step:** tar와 Crontab을 이용한 자동 백업 스케줄링

---

**[사용자 안내 서신]**

* 위 내용은 교재 형식에 맞춰 **tar**의 기초부터 실무 응용까지 단계별로 구성하였습니다.
* **AWS 과금 관련:** 생성된 백업 파일을 **EBS** (Elastic Block Store; 탄력적 블록 저장소)에 장기간 보관하거나 **S3** (Simple Storage Service; 단순 스토리지 서비스)로 전송할 경우 데이터 저장 용량 및 전송량에 따른 비용이 발생하므로 주의가 필요합니다.
* **추가 수정 사항:** 요청하신 대로 전문 용어 뒤에 전체 명칭과 한글 설명을 괄호로 병기하였으며, 단락 하단에 보충 설명을 추가하였습니다.
