μ΄λ² λ‹¨κ³„μ—μ„λ” μ½”λ“ λ‚΄μ— μ§μ ‘ μ•”νΈλ¥Ό μ λ” ν•λ“μ½”λ”©(Hardcoding)μ„ ν”Όν•κ³ , ν…λΌνΌμ **λ―Όκ°ν• λ³€μ(Sensitive Variables)** μ²λ¦¬ κΈ°λ¥κ³Ό **λ³€μ μ •μ νμΌ(.tfvars)**μ„ ν™μ©ν•μ—¬ λ³΄μ•μ„ ν• λ‹¨κ³„ κ°•ν™”ν•λ” λ°©λ²•μ„ μ‹¤μµν•κ² μµλ‹λ‹¤.

---

## μ‹¤μµ: λ³€μ λ¶„λ¦¬ λ° λ―Όκ° μ •λ³΄ λ³΄νΈ

μ΄ μ‹¤μµμ λ©ν‘λ” μ‹¤ν–‰ ν™”λ©΄(CLI Output)μ—μ„ λΉ„λ°€λ²νΈκ°€ λ…Έμ¶λλ” κ²ƒμ„ λ°©μ§€ν•κ³ , μ„¤μ • κ°’μ„ μ½”λ“μ™€ λ¶„λ¦¬ν•μ—¬ κ΄€λ¦¬ν•λ” μ•„ν‚¤ν…μ²λ¥Ό λ°°μ°λ” κ²ƒμ…λ‹λ‹¤.

### 1. λ³€μ μ •μ λ° λ―Όκ° μ„¤μ • (`variables.tf`)

λΉ„λ°€λ²νΈλ¥Ό μ„ν• λ³€μλ¥Ό λ³„λ„λ΅ μ„ μ–Έν•©λ‹λ‹¤. μ΄λ• `sensitive = true` μµμ…μ„ μ‚¬μ©ν•λ” κ²ƒμ΄ ν•µμ‹¬μ…λ‹λ‹¤.

```hcl
variable "db_admin_password" {
  description = "MySQL Employees DB κ΄€λ¦¬μ λΉ„λ°€λ²νΈ"
  type        = string
  # sensitiveλ¥Ό trueλ΅ μ„¤μ •ν•λ©΄ terraform plan/apply μ‹ ν™”λ©΄μ— κ°’μ΄ ν‘μ‹λμ§€ μ•μµλ‹λ‹¤.
  sensitive   = true
}

```

### 2. λ©”μΈ μ½”λ“ μμ • (`main.tf`)

ν•λ“μ½”λ”©ν–λ λΉ„λ°€λ²νΈ μλ¦¬μ— λ³€μλ¥Ό μ°Έμ΅°ν•λ„λ΅ μμ •ν•©λ‹λ‹¤.

```hcl
resource "local_file" "mysql_admin_config" {
  content  = <<EOF
[client]
host=mysql-employees-db.example.com
user=admin
password=${var.db_admin_password}
port=3306
EOF

  filename = "${path.module}/mysql_admin.cnf"
}

# μ¶λ ¥κ°’μ—λ„ sensitive μ†μ„±μ΄ μ „νλ©λ‹λ‹¤.
output "db_password_output" {
  value     = var.db_admin_password
  sensitive = true
}

```

### 3. λ³€μ λ°μ΄ν„° νμΌ μ‘μ„± (`terraform.tfvars`)

μ‹¤μ  λΉ„λ°€λ²νΈ κ°’μ€ Gitμ— μ¬λ¦¬μ§€ μ•μ„ λ³„λ„μ νμΌμ— μ €μ¥ν•©λ‹λ‹¤. ν…λΌνΌμ€ ν™•μ¥μκ°€ `.tfvars`μΈ νμΌμ„ μλ™μΌλ΅ μ½μ–΄μµλ‹λ‹¤.

```hcl
# μ£Όμ: μ΄ νμΌμ€ μ λ€λ΅ GitHubμ— μ—…λ΅λ“ν•μ§€ λ§μ„Έμ”.
db_admin_password = "EnhancedSecurityPass!2026"

```

---

## μ‹¤ν–‰ λ° λ³΄μ• κ²€μ¦

### 1. λ…λ Ήμ–΄ μ‹¤ν–‰

```bash
terraform plan

```

**ν™•μΈ ν¬μΈνΈ:** `plan` κ²°κ³Ό ν™”λ©΄μ—μ„ `password`λ‚ `output` κ°’μ΄ μ‹¤μ  μ•”νΈ λ€μ‹  **`(sensitive value)`**λ΅ ν‘μ‹λλ”μ§€ ν™•μΈν•μ„Έμ”. μ΄κ²ƒμ΄ ν…λΌνΌμ΄ ν™”λ©΄μƒμ—μ„ λ―Όκ° μ •λ³΄λ¥Ό κ°€λ¦¬λ” λ°©μ‹μ…λ‹λ‹¤.

### 2. μ μ©

```bash
terraform apply -auto-approve

```

### 3. μƒνƒ νμΌ(`terraform.tfstate`) μ¬μ κ²€

μ΄μ  κ°€μ¥ μ¤‘μ”ν• λ³΄μ• μ κ²€μ„ μν–‰ν•©λ‹λ‹¤.

```bash
cat terraform.tfstate

```

> [!IMPORTANT]
> **μ•„ν‚¤ν…νΈμ λ¶„μ„ κ²°κ³Ό:**
> ν™”λ©΄(CLI)μ—μ„λ” `(sensitive value)`λΌκ³  μ™„λ²½ν•κ² κ°€λ ¤μ΅μ§€λ§, **μƒνƒ νμΌ(`terraform.tfstate`) λ‚΄λ¶€μ—λ” μ—¬μ „ν `"EnhancedSecurityPass!2026"`μ΄ ν‰λ¬ΈμΌλ΅ μ €μ¥**λμ–΄ μμµλ‹λ‹¤.
> μ΄λ” ν…λΌνΌμ `sensitive` μµμ…μ΄ **'ν™”λ©΄ μ¶λ ¥'**μ„ μ ν•ν•  λΏ, **'μƒνƒ μ €μ¥'**κΉμ§€ μ•”νΈν™”ν•μ§€λ” λ»ν•λ‹¤λ” κ²ƒμ„ μ¦λ…ν•©λ‹λ‹¤.

---

## π›΅οΈ μµμΆ… λ³΄μ• μ•„ν‚¤ν…μ² μ„¤κ³„ μ μ•

μ‹¤λ¬΄ μ „λ¬Έκ°€λ΅μ„ μ΄ λ³΄μ• μ·¨μ•½μ μ„ μ™„λ²½ν ν•΄κ²°ν•κΈ° μ„ν• λ‹¨κ³„λ³„ μ΅°μΉλ” λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.

1. **`.gitignore` μ² μ € κ΄€λ¦¬:** `*.tfstate`, `*.tfvars` νμΌμ„ λ°λ“μ‹ Git μ μ™Έ λ©λ΅μ— μ¶”κ°€ν•©λ‹λ‹¤.
2. **μ›κ²© λ°±μ—”λ“(Remote Backend) μ „ν™:** μƒνƒ νμΌμ„ S3λ΅ μ®κΈ°κ³  **S3 μ„λ²„ μΈ΅ μ•”νΈν™”(SSE, Server-Side Encryption)**λ¥Ό ν™μ„±ν™”ν•©λ‹λ‹¤.
3. **ν™κ²½ λ³€μ ν™μ©:** `.tfvars` νμΌμ΅°μ°¨ λ¶μ•ν•λ‹¤λ©΄, OS ν™κ²½ λ³€μ(`TF_VAR_db_admin_password`)λ¥Ό ν†µν•΄ κ°’μ„ μ£Όμ…ν•©λ‹λ‹¤.

---

Next Step: **AWS S3 Backend(λ°±μ—”λ“)λ¥Ό μ΄μ©ν• μƒνƒ νμΌ μ›κ²© μ €μ¥ λ° μ•”νΈν™”**

[2026-02-20] κ°μΈ λ§μ¶¤ μ„¤μ • ν™•μΈ μ™„λ£: μ „λ¬Έ μ©μ–΄ μλ¬Έ λ³‘κΈ°(Initial λ° ν•κΈ€ μ„¤λ…), κΉƒν—λΈ ν¬λ§·, κ°•μ κµμ¬ ν•μ‹ λ° λ…Έμ¶ μ£Όμμ‚¬ν•­ ν¬ν•¨.

μ΄ μ‹¤μµμ„ ν†µν•΄ ν…λΌνΌμ ν•κ³„λ¥Ό λ…ν™•ν μ΄ν•΄ν•μ…¨μ„ κ²ƒμ…λ‹λ‹¤. μ΄μ  μ΄ 'μ„ν—ν•' μƒνƒ νμΌμ„ ν΄λΌμ°λ“λ΅ μ•μ „ν•κ² κ²©λ¦¬ν•λ” λ‹¨κ³„λ¥Ό μ§„ν–‰ν•μ‹κ² μµλ‹κΉ?
