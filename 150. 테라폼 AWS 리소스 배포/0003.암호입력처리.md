μ”μ²­ν•μ‹  λ€λ΅ κΈ°μ΅΄ μ„¤λ…μ νΌμ„ μ„ λ°°μ ν•κ³ , μ²μ λ””λ ‰ν„°λ¦¬ μƒμ„±λ¶€ν„° μ‹¤ν–‰, κ²°κ³Ό ν™•μΈκΉμ§€ λ§¤λ„λ½κ² μ΄μ–΄μ§€λ” μ‹¤μµ κµμ¬ ν•νƒλ΅ μ™„μ „ν μƒλ΅ μ‘μ„±ν–μµλ‹λ‹¤.

---

# ν…λΌνΌ(Terraform) λ³€μ λ³΄μ•: λ€ν™”ν• μ…λ ¥(Interactive Input) μ‹¤μµ

## 1. κ°μ” λ° λ©μ 

μΈν”„λΌμ¤νΈλ­μ²(Infrastructure) ν”„λ΅λΉ„μ €λ‹(Provisioning) κ³Όμ •μ—μ„ λ°μ΄ν„°λ² μ΄μ¤(Database) μ•”νΈμ™€ κ°™μ€ λ―Όκ°ν• μ •λ³΄(Sensitive Data)λ¥Ό λ‹¤λ£° λ•, μ½”λ“λ‚ λ³€μ νμΌ(`.tfvars`)μ— μ§μ ‘ κ°’μ„ μ €μ¥ν•λ” κ²ƒμ€ λ§¤μ° μ„ν—ν• λ°©μ‹μ…λ‹λ‹¤.
μ΄λ² μ‹¤μµμ—μ„λ” νμΌμ— κ°’μ„ μ €μ¥ν•μ§€ μ•κ³ , ν…λΌνΌ μ‹¤ν–‰ μ‹μ μ— μ‚¬μ©μκ°€ μ§μ ‘ ν‚¤λ³΄λ“λ΅ κ°’μ„ μ…λ ¥ν•λ” **λ€ν™”ν• μ…λ ¥(Interactive Input)** λ°©μ‹μ„ ν•™μµν•©λ‹λ‹¤.

### μμ£Ό μ¤ν•΄ν•λ” λ¶€λ¶„ (Common Misconceptions)

* **μ¤ν•΄:** ν‚¤λ³΄λ“λ΅ μ…λ ¥ν•λ©΄ λ©”λ¨λ¦¬μ—μ„λ§ μ²λ¦¬λλ―€λ΅ 100% μ•μ „ν•λ‹¤.
* **μ§„μ‹¤:** μ½”λ“λ‚ λ²„μ „ κ΄€λ¦¬ μ‹μ¤ν…(Git)μ— μ•”νΈκ°€ λ‚¨λ” κ²ƒμ€ μ›μ²μ μΌλ΅ λ°©μ§€ν•  μ μμ§€λ§, ν…λΌνΌμ μ‘λ™ μ›λ¦¬μƒ μµμΆ… κ²°κ³Όλ¬ΌμΈ **μƒνƒ νμΌ(State File)**μ—λ” κ²°κµ­ ν‰λ¬Έ(Plaintext)μΌλ΅ μ €μ¥λ©λ‹λ‹¤. λ”°λΌμ„ ν‚¤λ³΄λ“ μ…λ ¥ λ°©μ‹λ„ μƒνƒ νμΌμ μ›κ²© κ²©λ¦¬(Remote Backend)ΒΉμ™€ λ³‘ν–‰λμ–΄μ•Όλ§ μ™„λ²½ν•κ² μ•μ „ν•©λ‹λ‹¤.

---

## 2. μ‹¤μµ ν™κ²½ κµ¬μ„± λ° μ½”λ“ μ‘μ„±

μƒλ΅μ΄ μ‹¤μµ ν™κ²½μ„ μ„ν•΄ λ…λ¦½μ μΈ λ””λ ‰ν„°λ¦¬(Directory)λ¥Ό μƒμ„±ν•κ³  μ§„μ…ν•©λ‹λ‹¤. κΈ°μ΅΄μ λ³€μ νμΌ(`.tfvars`) λ°©μ‹κ³Ό μ„μ΄μ§€ μ•λ„λ΅ λ°±μ§€μƒνƒμ—μ„ μ‹μ‘ν•©λ‹λ‹¤.

```bash
mkdir terraform-interactive-input
cd terraform-interactive-input

```

μ΄λ² μ‹¤μµμ—μ„λ” μ¤μ§ **2κ°μ νμΌ**λ§ μƒμ„±ν•©λ‹λ‹¤. λ³€μμ— μ‹¤μ  κ°’μ„ μ£Όμ…ν•λ” `terraform.tfvars` νμΌμ€ μλ„μ μΌλ΅ λ§λ“¤μ§€ μ•μµλ‹λ‹¤. κ°’μ΄ λ―Έλ¦¬ μ •μλ νμΌμ΄ μ—†μ–΄μ•Ό ν…λΌνΌμ΄ μ‚¬μ©μμ—κ² μ…λ ¥μ„ μ”κµ¬ν•κΈ° λ•λ¬Έμ…λ‹λ‹¤.

### νμΌ 1: variables.tf (λ³€μ μ„ μ–Έ)

λ³€μμ μ΄λ¦„κ³Ό λ°μ΄ν„° νƒ€μ…(Type)μ„ μ •μν•λ” μ„¤κ³„λ„ μ—­ν• μ„ ν•©λ‹λ‹¤. μ—¬κΈ°μ„ κ°€μ¥ μ¤‘μ”ν• ν•µμ‹¬μ€ **`default` (κΈ°λ³Έκ°’) μ†μ„±μ„ μ λ€ μ§€μ •ν•μ§€ μ•λ” κ²ƒ**μ…λ‹λ‹¤.

```hcl
# variables.tf
variable "db_admin_password" {
  description = "MySQL Database κ΄€λ¦¬μ λΉ„λ°€λ²νΈ"
  type        = string
  sensitive   = true  # ν™”λ©΄ μ¶λ ¥ μ‹ (sensitive value)λ΅ λ§μ¤ν‚Ή(Masking) μ²λ¦¬λ¨
}

```

### νμΌ 2: main.tf (λ¦¬μ†μ¤ μƒμ„±)

μ•μ„ μ„ μ–Έν• λ³€μλ¥Ό μ°Έμ΅°ν•μ—¬ μ‹¤μ  νμΌμ„ μƒμ„±ν•λ” λ©”μΈ λ΅μ§μ…λ‹λ‹¤.

```hcl
# main.tf
resource "local_file" "mysql_admin_config" {
  content  = <<EOF
[client]
host=mysql-secure-db.example.com
user=admin
password=${var.db_admin_password}
EOF

  filename = "${path.module}/secure_mysql_admin.cnf"
}

output "db_setup_status" {
  value     = "λ³΄μ• μ„¤μ • νμΌμ΄ μƒμ„±λμ—μµλ‹λ‹¤."
  sensitive = true
}

```

---

## 3. μ‹¤ν–‰ λ° λ€ν™”ν• μ…λ ¥ ν…μ¤νΈ

μ½”λ“κ°€ μ¤€λΉ„λμ—μΌλ―€λ΅ ν…λΌνΌμ„ μ΄κΈ°ν™”ν•κ³  μ‹¤ν–‰ν•μ—¬ λ€ν™”ν• μ…λ ¥μ΄ μ–΄λ–»κ² μ‘λ™ν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.

### Step 1: μ΄κΈ°ν™” (Initialization)

μƒλ΅μ΄ λ””λ ‰ν„°λ¦¬μ΄λ―€λ΅ κ³µκΈ‰μ(Provider) ν”λ¬κ·ΈμΈμ„ λ‹¤μ΄λ΅λ“ν•κΈ° μ„ν•΄ λ°λ“μ‹ μ΄κΈ°ν™”λ¥Ό μ§„ν–‰ν•©λ‹λ‹¤.

```bash
terraform init

```

### Step 2: μ‹¤ν–‰ μ μ© (Apply)

[Terraform CLI(Command Line Interface)](https://developer.hashicorp.com/terraform/cli)μ—μ„ μ•„λ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.

```bash
terraform apply

```

**μ‹¤ν–‰ κ²°κ³Ό λ° λ€ν™”ν• μ…λ ¥:**
ν…λΌνΌμ€ `db_admin_password` λ³€μμ μ‹¤μ  κ°’μ„ μ½”λ“λ‚ νμΌμ—μ„ μ°Ύμ„ μ μ—†μΌλ―€λ΅, μ‹¤ν–‰μ„ μΌμ‹ μ •μ§€ν•κ³  μ•„λμ™€ κ°™μ΄ ν„°λ―Έλ„μ— ν”„λ΅¬ν”„νΈ(Prompt)λ¥Ό λ„μ› μ…λ ¥μ„ μ”κµ¬ν•©λ‹λ‹¤.

```text
var.db_admin_password
  MySQL Database κ΄€λ¦¬μ λΉ„λ°€λ²νΈ

  Enter a value: 

```

μ΄λ• ν‚¤λ³΄λ“λ΅ `MySecretPass123!`μ™€ κ°™μ΄ μ„μμ λΉ„λ°€λ²νΈλ¥Ό μ…λ ¥ν•κ³  **Enter**λ¥Ό λ„λ¦…λ‹λ‹¤. μ΄ν›„ μ‹¤ν–‰ κ³„νμ΄ μ¶λ ¥λλ©΄ `yes`λ¥Ό μ…λ ¥ν•μ—¬ μΉμΈν•©λ‹λ‹¤.

---

## 4. λ³΄μ• κ²€μ¦ λ° ν•κ³„μ  ν™•μΈ

### Step 1: μ¶λ ¥ ν™”λ©΄ ν™•μΈ

μ‹¤ν–‰μ΄ μ™„λ£λ ν„°λ―Έλ„ ν™”λ©΄μ—μ„λ” `sensitive = true` μ„¤μ •μΌλ΅ μΈν•΄ λΉ„λ°€λ²νΈκ°€ `(sensitive value)`λ΅ μ•μ „ν•κ² κ°€λ ¤μ§„ κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤. λ΅κ·Έ ν™”λ©΄μ—μ„λ” μ•”νΈκ°€ μ μ¶λμ§€ μ•μ•μµλ‹λ‹¤.

### Step 2: μƒνƒ νμΌ(State File) ν™•μΈ

ν•μ§€λ§ ν…λΌνΌμ΄ μƒμ„±ν• μ•„ν‚¤ν…μ²μ μµμΆ… κΈ°λ΅μΈ μƒνƒ νμΌμ„ μ—΄μ–΄λ³΄λ©΄ κΈ°μ μ  ν•κ³„λ¥Ό λ…ν™•ν μ• μ μμµλ‹λ‹¤.

```bash
cat terraform.tfstate

```

**κ²°κ³Ό λ¶„μ„:**
νμΌ λ‚΄λ¶€μ `attributes` ν•­λ©μ„ μ‚΄ν΄λ³΄λ©΄, ν™”λ©΄μ—λ” κ°€λ ¤μ΅κ³  ν‚¤λ³΄λ“λ΅ μ΅°μ‹¬μ¤λ½κ² μ…λ ¥ν–λ `MySecretPass123!`κ°€ **ν‰λ¬Έ(Plaintext)**μΌλ΅ κ³ μ¤λ€ν μ €μ¥λμ–΄ μλ” κ²ƒμ„ λ©κ²©ν•  μ μμµλ‹λ‹¤.

### π’΅ μ‹¤μ „ ν (Practical Tip)

μ΄λ¬ν• νΉμ„± λ•λ¬Έμ— μ‹¤λ¬΄ μµκ³  μμ¤€μ μ•„ν‚¤ν…μ² μ„¤κ³„μ—μ„λ” λ΅μ»¬(Local) ν™κ²½μ— μƒνƒ νμΌμ„ λ‚¨κΈ°μ§€ μ•μµλ‹λ‹¤. AWS S3μ™€ κ°™μ΄ λ°μ΄ν„° μ•”νΈν™”(Encryption)κ°€ μ§€μ›λκ³  μ„Έλ°€ν• μ ‘κ·Ό μ μ–΄(IAM)κ°€ κ°€λ¥ν• [μ›κ²© λ°±μ—”λ“(Remote Backend)](https://developer.hashicorp.com/terraform/language/settings/backends/configuration)λ΅ μƒνƒ νμΌμ„ μ¦‰μ‹ μ „μ†΅ν•λ„λ΅ νμ΄ν”„λΌμΈ(Pipeline)μ„ κµ¬μ„±ν•΄μ•Ό ν•©λ‹λ‹¤.

---

*μ£Όμ„ 1) μ›κ²© κ²©λ¦¬(Remote Backend): ν…λΌνΌμ΄ μƒμ„±ν•λ” μƒνƒ νμΌ(`.tfstate`)μ„ μ‘μ—…μμ κ°μΈ PCκ°€ μ•„λ‹ λ³΄μ•μ΄ ν™•λ³΄λ ν΄λΌμ°λ“ μ¤ν† λ¦¬μ§€(μ: AWS S3, Terraform Cloud)μ— μ•μ „ν•κ² λ³΄κ΄€ν•κ³  κ΄€λ¦¬ν•λ” μ•„ν‚¤ν…μ² ν¨ν„΄μ…λ‹λ‹¤.*

---

[2026-02-20] κ°μΈ λ§μ¶¤ μ„¤μ • ν™•μΈ μ™„λ£: μ „λ¬Έ μ©μ–΄ μ „μ²΄ μλ¬Έ λ° ν•κΈ€ μ„¤λ… λ³‘κΈ°, κΉƒν—λΈ ν¬λ§· μ μ©, κ°•μ κµμ¬ ν•μ‹ μ¤€μ λ° ν™”λ²• μ ν• μ‚¬ν•­(λ‚μ—κ² ν•λ” λ§ λ³Έλ¬Έ μ μ™Έ λ“±) λ¨λ‘ μ¶©μ΅± ν™•μΈν–μµλ‹λ‹¤.

Next Step: **.gitignoreλ¥Ό ν™μ©ν• λ―Όκ° νμΌ Git μ¶”μ  μ μ™Έ μ„¤μ •**
