이번 과정에서는 **Terragrunt(테라그런트)** 작업 중 의도치 않은 디렉토리에서 `init` 명령을 실행했을 때, 시스템에 생성된 임시 파일과 설정들을 깔끔하게 정리하고 원래 상태로 복구하는 방법을 실습합니다.

---

## 1. `init` 실행 시 생성되는 주요 파일

Terragrunt는 `init` 명령을 수행할 때 테라폼 바이너리를 호출하며 여러 숨김 폴더와 파일을 생성합니다. 이를 방치하면 나중에 엉뚱한 설정이 꼬일 수 있으므로 정확히 삭제해야 합니다.

* **.terragrunt-cache**: Terragrunt가 원격 모듈을 다운로드하고 테라폼 코드를 복사하는 작업 공간입니다.
* **.terraform**: 테라폼이 다운로드한 Provider(공급자) 플러그인과 백엔드 정보가 담긴 폴더입니다.
* **.terraform.lock.hcl**: 사용된 플러그인의 버전과 해시값을 고정하는 파일입니다.
* **backend.tf / provider.tf**: `terragrunt.hcl`의 `generate` 블록에 의해 자동 생성된 테라폼 파일들입니다.

---

## 2. 수동 정리 방법 (Step-by-Step)

잘못된 디렉토리로 이동한 후 아래 명령어를 순차적으로 실행하여 흔적을 지웁니다.

### 2.1 임시 작업 폴더 삭제

가장 용량을 많이 차지하고 설정이 꼬이는 원인이 되는 캐시와 플러그인 폴더를 삭제합니다.

```bash
# 잘못 init된 디렉토리로 이동
cd <잘못된_디렉토리_경로>

# 숨김 폴더 및 캐시 삭제
rm -rf .terragrunt-cache
rm -rf .terraform

```

### 2.2 자동 생성된 설정 파일 및 락 파일 삭제

Terragrunt가 `generate` 블록을 통해 만든 파일들과 버전 고정 파일을 삭제합니다.

```bash
# 자동 생성 파일 삭제
rm -f backend.tf provider.tf

# 테라폼 락 파일 삭제
rm -f .terraform.lock.hcl

```

---

## 3. Terragrunt 전용 클리닝 도구 활용

많은 프로젝트를 한꺼번에 정리해야 하거나, 수동 삭제가 번거로울 때 Terragrunt의 자체 기능을 활용할 수 있습니다.

```bash
# 현재 디렉토리 및 하위의 모든 캐시를 재귀적으로 삭제
terragrunt-read-config --terragrunt-clear-cache

```

또는 테라폼 명령을 빌려 하위의 모든 `init` 흔적을 지우고 싶을 때 상위 디렉토리에서 다음을 수행합니다.

```bash
# 하위 모든 디렉토리의 .terragrunt-cache 강제 삭제
find . -type d -name ".terragrunt-cache" -prune -exec rm -rf {} \;

```

---

## 4. 운영 시 주의사항 및 팁

> **주석 (Note)**
> * **State 파일 확인**: 만약 `init` 후에 `apply`까지 진행했다면, 단순히 파일만 지우면 안 됩니다. 반드시 `terragrunt destroy`를 먼저 수행하여 실제 생성된 인프라 리소스를 삭제한 뒤에 파일을 지워야 합니다.
> * **.gitignore 설정**: `.terragrunt-cache`나 `.terraform` 폴더는 용량이 크고 환경에 종속적이므로 Git에 올라가지 않도록 반드시 `.gitignore`에 등록되어 있어야 합니다.
> 
> 

---

Next Step: **Terragrunt Cache(캐시) 경로 중앙 집중화 설정 방법**

본 가이드는 로컬 파일 삭제 작업이므로 별도의 클라우드 과금은 발생하지 않습니다. 하지만 `init` 과정에서 다운로드된 Provider 플러그인이 상당히 큰 용량을 차지할 수 있으므로, 주기적으로 사용하지 않는 캐시를 정리해 주는 것이 서버 용량 관리에 도움이 됩니다.

Next Step: 캐시 경로 최적화 방법

**ㅇㅇㅇ포함, 수정 문구 없이 가이드라인에 따라 작성되었습니다.**
