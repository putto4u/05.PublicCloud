<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Transit Gateway 전문가 과정 - 심화</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f8fafc; color: #1e293b; line-height: 1.7; }
        .textbook-container { max-width: 950px; margin: 40px auto; background: white; padding: 60px; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); border-radius: 12px; }
        .highlight-box { background-color: #f1f5f9; border-left: 5px solid #2563eb; padding: 20px; margin: 25px 0; border-radius: 0 8px 8px 0; }
        .term { font-weight: 700; color: #1d4ed8; text-decoration: underline; text-underline-offset: 3px; }
        .diagram-container { background: #ffffff; border: 1px solid #e2e8f0; border-radius: 12px; padding: 40px; margin: 35px 0; text-align: center; box-shadow: inset 0 2px 4px 0 rgba(0,0,0,0.05); }
        .caution-panel { border: 2px solid #ef4444; background-color: #fff1f2; padding: 25px; border-radius: 10px; margin: 30px 0; }
        .info-panel { border: 2px solid #0ea5e9; background-color: #f0f9ff; padding: 25px; border-radius: 10px; margin: 30px 0; }
        table { width: 100%; border-collapse: collapse; margin: 25px 0; font-size: 0.95rem; }
        th, td { border: 1px solid #e2e8f0; padding: 15px; text-align: left; }
        th { background-color: #f8fafc; color: #475569; font-weight: 700; }
        .footnote { font-size: 0.85rem; color: #64748b; border-top: 2px solid #f1f5f9; margin-top: 50px; padding-top: 25px; }
        .step-label { display: inline-block; background: #2563eb; color: white; padding: 2px 10px; border-radius: 4px; font-size: 0.8rem; margin-right: 8px; vertical-align: middle; }
    </style>
</head>
<body>

<div class="textbook-container">
    <!-- 헤더 -->
    <header class="mb-12 border-b-8 border-blue-600 pb-8">
        <h1 class="text-4xl font-extrabold text-slate-900 mb-2">AWS Transit Gateway (TGW, 전송 게이트웨이) 심화</h1>
        <p class="text-xl text-slate-500">독립적 허브 아키텍처와 엔터프라이즈 라우팅 설계 전략</p>
    </header>

    <!-- 섹션 1: TGW의 위치와 성격 -->
    <section class="mb-16">
        <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center">
            <i class="fa-solid fa-layer-group mr-3 text-blue-600"></i> 1. Transit Gateway의 위치적 특성
        </h2>
        <p class="mb-4">
            많은 기술자들이 오해하는 부분 중 하나는 <span class="term">Transit Gateway (TGW, 전송 게이트웨이)</span>가 특정 <span class="term">Virtual Private Cloud (VPC, 가상 사설 클라우드)</span> 내부에 생성된다고 생각하는 것입니다. 하지만 TGW는 특정 VPC에 종속되지 않는 **독립적인 지역(Region) 단위 리소스**입니다.
        </p>
        
        <div class="info-panel">
            <h3 class="font-bold text-sky-800 mb-2"><i class="fa-solid fa-circle-info"></i> 구조적 핵심 포인트</h3>
            <ul class="list-disc ml-6 space-y-2">
                <li><strong>독립적 엔터티:</strong> 리전 레벨에서 관리되는 "가상 라우터"입니다.</li>
                <li><strong>확장성:</strong> 하나의 TGW에 동일 리전 내 수천 개의 VPC를 연결할 수 있습니다.</li>
                <li><strong>연결 방식:</strong> VPC 내부에 직접 설치되는 것이 아니라, 각 VPC의 특정 서브넷에 <span class="term">Elastic Network Interface (ENI, 탄력적 네트워크 인터페이스)</span>를 생성하여 통로를 만듭니다.</li>
            </ul>
        </div>
    </section>

    <!-- 섹션 2: 연결 메커니즘 시각화 -->
    <section class="mb-16">
        <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center">
            <i class="fa-solid fa-diagram-project mr-3 text-blue-600"></i> 2. VPC 어태치먼트와 데이터 흐름
        </h2>
        
        <div class="diagram-container">
            <!-- TGW Architecture Diagram -->
            <svg viewBox="0 0 800 450" xmlns="http://www.w3.org/2000/svg">
                <!-- Region Boundary -->
                <rect x="20" y="20" width="760" height="410" rx="10" fill="none" stroke="#94a3b8" stroke-dasharray="8"/>
                <text x="40" y="45" font-size="14" fill="#64748b" font-weight="bold">AWS 리전 (Region)</text>

                <!-- Transit Gateway (Hub) -->
                <rect x="350" y="170" width="100" height="100" rx="50" fill="#1e293b"/>
                <text x="375" y="225" fill="white" font-size="16" font-weight="bold">TGW</text>

                <!-- VPC A -->
                <rect x="80" y="80" width="200" height="120" rx="8" fill="#f8fafc" stroke="#3b82f6" stroke-width="2"/>
                <text x="90" y="105" font-size="12" font-weight="bold" fill="#3b82f6">VPC A (10.0.0.0/16)</text>
                <rect x="190" y="130" width="60" height="30" rx="4" fill="#dbeafe" stroke="#3b82f6"/>
                <text x="205" y="150" font-size="10" fill="#1e40af">ENI</text>

                <!-- VPC B -->
                <rect x="520" y="80" width="200" height="120" rx="8" fill="#f8fafc" stroke="#3b82f6" stroke-width="2"/>
                <text x="530" y="105" font-size="12" font-weight="bold" fill="#3b82f6">VPC B (10.1.0.0/16)</text>
                <rect x="550" y="130" width="60" height="30" rx="4" fill="#dbeafe" stroke="#3b82f6"/>
                <text x="565" y="150" font-size="10" fill="#1e40af">ENI</text>

                <!-- On-premises -->
                <rect x="300" y="330" width="200" height="80" rx="8" fill="#f1f5f9" stroke="#475569" stroke-width="2"/>
                <text x="350" y="375" font-size="14" font-weight="bold" fill="#475569">온프레미스 DC</text>

                <!-- Connections -->
                <path d="M 250 145 L 350 220" stroke="#3b82f6" stroke-width="2" marker-end="url(#arrowhead)"/>
                <path d="M 550 145 L 450 220" stroke="#3b82f6" stroke-width="2" marker-end="url(#arrowhead)"/>
                <path d="M 400 330 L 400 270" stroke="#10b981" stroke-width="2" stroke-dasharray="4"/>
                
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6" />
                    </marker>
                </defs>
            </svg>
            <p class="text-sm text-slate-500 mt-4">VPC 내부의 ENI(접점)를 통한 중앙 TGW와의 연결 구조</p>
        </div>

        <p class="mb-4">
            VPC를 TGW에 연결하려면 가용 영역(AZ)별로 서브넷을 지정하여 <span class="term">Transit Gateway Attachment (TGW 어태치먼트, 트랜짓 게이트웨이 연결)</span>를 생성합니다. 이때 해당 서브넷에는 ENI가 자동 생성되어 TGW로 향하는 게이트웨이 역할을 수행합니다.
        </p>
    </section>

    <!-- 섹션 3: 라우팅 체계 -->
    <section class="mb-16">
        <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center">
            <i class="fa-solid fa-route mr-3 text-blue-600"></i> 3. 이중 라우팅 계층의 이해
        </h2>
        <p class="mb-6">패킷이 이동하기 위해서는 두 가지 단계의 라우팅 결정이 필요합니다.</p>
        
        <div class="space-y-4">
            <div class="p-4 bg-slate-50 border rounded-lg">
                <p><span class="step-label">Step 1</span> <strong>VPC 라우팅 테이블:</strong> 인스턴스가 보낸 패킷이 VPC 외부(다른 VPC 등)로 나갈 때, <span class="term">Next Hop (다음 홉)</span>을 TGW ID(tgw-xxxx)로 지정해야 합니다.</p>
            </div>
            <div class="p-4 bg-slate-50 border rounded-lg">
                <p><span class="step-label">Step 2</span> <strong>TGW 라우팅 테이블:</strong> TGW에 도착한 패킷은 TGW 자체 라우팅 테이블을 참조하여 어떤 어태치먼트(VPC A, VPC B, VPN 등)로 패킷을 보낼지 결정합니다.</p>
            </div>
        </div>
    </section>

    <!-- 섹션 4: 비교 분석 -->
    <section class="mb-16">
        <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center">
            <i class="fa-solid fa-code-compare mr-3 text-blue-600"></i> 4. VPC 피어링 vs. Transit Gateway
        </h2>
        
        <table>
            <thead>
                <tr>
                    <th>비교 항목</th>
                    <th>VPC Peering (피어링)</th>
                    <th>Transit Gateway (TGW)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>라우팅 구조</strong></td>
                    <td>1:1 직접 연결 (Point-to-Point)</td>
                    <td>중앙 집중형 (Hub-and-Spoke)</td>
                </tr>
                <tr>
                    <td><strong>전이적 라우팅</strong></td>
                    <td>불가능 (A-B-C 연결 시 A-C 통신 불가)</td>
                    <td>지원 (A-TGW-C 통신 가능)</td>
                </tr>
                <tr>
                    <td><strong>관리 복잡성</strong></td>
                    <td>VPC 증가 시 기하급수적 증가</td>
                    <td>중앙 관리로 단순화</td>
                </tr>
                <tr>
                    <td><strong>비용 특성</strong></td>
                    <td>연결 비용 없음 (데이터 전송 요금만)</td>
                    <td>시간당 점유료 + 데이터 처리료</td>
                </tr>
                <tr>
                    <td><strong>권장 사용 사례</strong></td>
                    <td>소규모(VPC 10개 미만), 비용 최우선</td>
                    <td>대규모 엔터프라이즈, 보안 중앙화</td>
                </tr>
            </tbody>
        </table>
    </section>

    <!-- 섹션 5: 과금 체계 -->
    <section class="mb-16">
        <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center">
            <i class="fa-solid fa-file-invoice-dollar mr-3 text-blue-600"></i> 5. 상세 과금 모델 (Pricing)
        </h2>
        <div class="caution-panel">
            <h3 class="font-bold text-red-600 mb-2"><i class="fa-solid fa-triangle-exclamation"></i> 과금 핵심 요약</h3>
            <ul class="list-disc ml-6 space-y-1 text-sm">
                <li><strong>AWS Transit Gateway Attachment 시간당 요금:</strong> 약 <strong>$0.05/hour</strong> (연결당)</li>
                <li><strong>데이터 처리 요금 (Data Processing):</strong> 전송량 1GB당 약 <strong>$0.02</strong></li>
            </ul>
        </div>
        <div class="highlight-box">
            <h4 class="font-bold mb-2">실제 비용 시뮬레이션</h4>
            <p class="text-sm">VPC 2개를 TGW에 한 달(730시간) 동안 연결하고, 총 100GB의 데이터를 주고받았을 경우:</p>
            <p class="font-mono mt-3 bg-white p-3 rounded border">
                (2개 연결 &times; $0.05 &times; 730시간) + (100GB &times; $0.02) = $73.00 + $2.00 = <strong>$75.00/월</strong>
            </p>
        </div>
    </section>

    <!-- 주석 섹션 -->
    <footer class="footnote">
        <h4 class="font-bold mb-3 text-slate-700">심화 용어 및 주석</h4>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <p><strong>Next Hop (다음 홉):</strong> 패킷이 최종 목적지에 도달하기 위해 거쳐야 하는 다음 단계의 네트워크 장비나 게이트웨이 경로를 의미합니다.</p>
                <p class="mt-2"><strong>Elastic Network Interface (ENI, 탄력적 네트워크 인터페이스):</strong> <span class="term">Virtual Private Cloud (VPC, 가상 사설 클라우드)</span> 내에서 가상 서버(EC2) 등에 연결되어 통신을 가능하게 하는 가상 네트워크 카드입니다.</p>
            </div>
            <div>
                <p><strong>Availability Zone (AZ, 가용 영역):</strong> 리전 내에서 물리적으로 격리되어 독립된 전원 및 네트워크를 가진 데이터 센터 집합입니다.</p>
                <p class="mt-2"><strong>Transitive Routing (전이적 라우팅, 중간 거점 경유 라우팅):</strong> 중간에 위치한 네트워크 장치나 VPC를 거쳐 제3의 네트워크로 패킷을 전달하는 방식입니다.</p>
            </div>
        </div>
        <div class="mt-8 pt-4 border-t text-center text-xs text-slate-400">
            © 2026 전문 직업훈련 과정 - 클라우드 아키텍처 시리즈 | 본 자료는 AWS 최신 기술 문서를 바탕으로 작성되었습니다.
        </div>
    </footer>
</div>

</body>
</html>
