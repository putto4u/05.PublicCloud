<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS VPC 네트워크 아키텍처 마스터 가이드</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=Roboto+Mono:wght@400;600&display=swap');
        :root {
            --aws-orange: #FF9900;
            --aws-blue: #232F3E;
            --aws-light-blue: #0073BB;
            --tf-purple: #7B42BC;
        }
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f8fafc; color: #1e293b; scroll-behavior: smooth; }
        .code-font { font-family: 'Roboto Mono', monospace; }
        .toc-link:hover { color: var(--aws-orange); text-decoration: underline; }
        .section-card { background: white; border-radius: 1rem; box-shadow: 0 4px 20px -5px rgba(0,0,0,0.1); margin-bottom: 3rem; overflow: hidden; border: 1px solid #e2e8f0; }
        .section-header { background: var(--aws-blue); color: white; padding: 1.5rem 2rem; }
        .diagram-container { background: #fdfdfd; border: 1px solid #edf2f7; border-radius: 0.75rem; padding: 2rem; margin: 1.5rem 0; display: flex; justify-content: center; align-items: center; }
        .billing-alert { border-left: 5px solid #ef4444; background: #fef2f2; padding: 1.5rem; border-radius: 0.5rem; margin: 1.5rem 0; }
        .pro-tip { border-left: 5px solid #10b981; background: #f0fdf4; padding: 1.5rem; border-radius: 0.5rem; margin: 1.5rem 0; }
        .lab-block { background: #1e293b; color: #e2e8f0; padding: 1.5rem; border-radius: 0.75rem; margin: 1.5rem 0; font-family: 'Roboto Mono', monospace; font-size: 0.85rem; overflow-x: auto; }
        .lab-title { color: #38bdf8; font-weight: 700; margin-bottom: 0.75rem; display: block; border-bottom: 1px solid #334155; padding-bottom: 0.5rem; }
        .tf-title { color: #c084fc; font-weight: 700; margin-top: 1.25rem; margin-bottom: 0.5rem; display: block; border-bottom: 1px solid #334155; padding-bottom: 0.5rem; }
        .footnote { font-size: 0.85rem; color: #64748b; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #e2e8f0; }
        table { width: 100%; border-collapse: collapse; }
        th { background: #f1f5f9; color: #475569; font-weight: 700; text-align: left; padding: 1rem; border-bottom: 2px solid #e2e8f0; }
        td { padding: 1rem; border-bottom: 1px solid #f1f5f9; vertical-align: top; }
        .nav-sticky { position: sticky; top: 1rem; height: calc(100vh - 2rem); overflow-y: auto; }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-7xl mx-auto flex flex-col lg:flex-row gap-8">
        <!-- Navigation -->
        <aside class="hidden lg:block w-72 nav-sticky">
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                <h3 class="text-lg font-bold mb-4 border-b pb-2">목차 (Contents)</h3>
                <nav class="space-y-3 text-sm">
                    <a href="#intro" class="toc-link block text-slate-600">1. VPC 개요 및 철학</a>
                    <a href="#addressing" class="toc-link block text-slate-600">2. 주소 설계 (CIDR & Subnetting)</a>
                    <a href="#routing" class="toc-link block text-slate-600">3. 라우팅 아키텍처 (Routing)</a>
                    <a href="#connectivity" class="toc-link block text-slate-600">4. 외부 연결 (IGW & NAT GW)</a>
                    <a href="#security" class="toc-link block text-slate-600">5. 보안 계층 (SG & NACL)</a>
                    <a href="#endpoints" class="toc-link block text-slate-600">6. VPC 엔드포인트 (PrivateLink)</a>
                    <a href="#hybrid" class="toc-link block text-slate-600">7. 하이브리드 및 상호 연결</a>
                    <a href="#best-practices" class="toc-link block text-slate-600">8. 엔터프라이즈 설계 모범 사례</a>
                    <a href="#monitoring" class="toc-link block text-slate-600">9. 모니터링 및 로깅</a>
                    <a href="#billing" class="toc-link block text-slate-600">10. 비용 최적화 및 결론</a>
                </nav>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1">
            <header class="mb-12">
                <div class="flex items-center gap-4 mb-4">
                    <span class="bg-orange-500 text-white px-3 py-1 rounded text-xs font-bold">EXPERT COURSE</span>
                    <span class="text-slate-400">|</span>
                    <span class="text-slate-500 font-medium">IP 직업훈련 전문가과정</span>
                </div>
                <h1 class="text-5xl font-black text-slate-900 mb-6 leading-tight">
                    AWS VPC 네트워크 아키텍처 <br><span class="text-blue-600">심층 엔지니어링 가이드</span>
                </h1>
                <p class="text-xl text-slate-600 leading-relaxed">
                    본 교재는 기업용 **SDN**(Software Defined Networking, 소프트웨어 정의 네트워크) 환경을 구축하기 위한 **VPC**(Virtual Private Cloud, 가상 사설 클라우드)의 핵심 구성 요소부터 보안, 확장성, 비용 관리까지의 전 과정을 상세히 다룹니다.
                </p>
            </header>

            <!-- Section 1 -->
            <section id="intro" class="section-card">
                <div class="section-header">
                    <h2 class="text-2xl font-bold">1. VPC 개요 및 설계 철학</h2>
                </div>
                <div class="p-8">
                    <p class="mb-6">
                        **VPC**(Virtual Private Cloud, 가상 사설 클라우드)는 AWS 계정 전용의 가상 네트워크입니다. 논리적으로 격리된 이 공간은 온프레미스 데이터 센터와 유사한 네트워크 환경을 제공하면서도 클라우드의 유연성을 유지합니다.
                    </p>
                    <div class="diagram-container">
                        <svg width="600" height="250" viewBox="0 0 600 250">
                            <rect x="10" y="20" width="580" height="210" rx="15" fill="#f8fafc" stroke="#232F3E" stroke-width="2" stroke-dasharray="8 4"/>
                            <text x="30" y="45" fill="#232F3E" font-weight="bold">AWS 리전 (Region)</text>
                            <rect x="50" y="60" width="500" height="150" rx="10" fill="#e0f2fe" stroke="#0073BB" stroke-width="2"/>
                            <text x="70" y="85" fill="#0073BB" font-weight="bold">가상 사설 클라우드 (VPC)</text>
                        </svg>
                    </div>
                    
                    <div class="lab-block">
                        <span class="lab-title"># AWS CLI: 현재 VPC 목록 조회</span>
                        aws ec2 describe-vpcs --query "Vpcs[*].{ID:VpcId,CIDR:CidrBlock,State:State}" --output table

                        <span class="tf-title"># Terraform: VPC 데이터 소스 선언</span>
                        data "aws_vpcs" "existing_vpcs" {}<br><br>
                        output "all_vpc_ids" {<br>
                        &nbsp;&nbsp;value = data.aws_vpcs.existing_vpcs.ids<br>
                        }
                    </div>
                    <p class="mt-4 text-sm text-slate-500 italic">**설명:** CLI는 즉시 실행하여 결과를 확인하며, 테라폼(Terraform)은 기존에 존재하는 자원을 코드 내에서 참조할 때 사용합니다.</p>
                </div>
            </section>

            <!-- Section 2 -->
            <section id="addressing" class="section-card">
                <div class="section-header bg-slate-800">
                    <h2 class="text-2xl font-bold">2. 주소 설계 (CIDR & Subnetting)</h2>
                </div>
                <div class="p-8">
                    <p class="mb-4">**VPC** 생성 시 가장 중요한 결정 사항은 **IPv4 CIDR Block**(인터넷 프로토콜 버전 4 클래스 없는 도메인 간 라우팅 블록)의 크기와 서브넷 분할 전략입니다.</p>
                    
                    <div class="lab-block">
                        <span class="lab-title"># AWS CLI: VPC 및 서브넷 생성</span>
                        aws ec2 create-vpc --cidr-block 10.0.0.0/16<br>
                        aws ec2 create-subnet --vpc-id [VPC_ID] --cidr-block 10.0.1.0/24 --availability-zone ap-northeast-2a

                        <span class="tf-title"># Terraform: VPC 및 서브넷 리소스 정의</span>
                        resource "aws_vpc" "main" {<br>
                        &nbsp;&nbsp;cidr_block = "10.0.0.0/16"<br>
                        &nbsp;&nbsp;tags = { Name = "Expert-VPC" }<br>
                        }<br><br>
                        resource "aws_subnet" "public_a" {<br>
                        &nbsp;&nbsp;vpc_id            = aws_vpc.main.id<br>
                        &nbsp;&nbsp;cidr_block        = "10.0.1.0/24"<br>
                        &nbsp;&nbsp;availability_zone = "ap-northeast-2a"<br>
                        }
                    </div>
                    <p class="mt-4 text-sm text-slate-500 italic">**설명:** CLI 방식은 순차적으로 ID를 확인하며 명령을 입력해야 하지만, 테라폼은 상호 참조(`aws_vpc.main.id`)를 통해 종속성을 자동 관리합니다.</p>
                </div>
            </section>

            <!-- Section 3 -->
            <section id="routing" class="section-card">
                <div class="section-header bg-slate-700">
                    <h2 class="text-2xl font-bold">3. 라우팅 아키텍처 (Routing)</h2>
                </div>
                <div class="p-8">
                    <p class="mb-4">**Route Table**(라우팅 테이블)은 네트워크의 '내비게이션' 역할을 합니다.</p>

                    <div class="lab-block">
                        <span class="lab-title"># AWS CLI: 라우팅 테이블 생성 및 연결</span>
                        aws ec2 create-route-table --vpc-id [VPC_ID]<br>
                        aws ec2 associate-route-table --subnet-id [SUBNET_ID] --route-table-id [RT_ID]

                        <span class="tf-title"># Terraform: 라우팅 테이블 및 연결 정의</span>
                        resource "aws_route_table" "public" {<br>
                        &nbsp;&nbsp;vpc_id = aws_vpc.main.id<br>
                        }<br><br>
                        resource "aws_route_table_association" "public_assoc" {<br>
                        &nbsp;&nbsp;subnet_id      = aws_subnet.public_a.id<br>
                        &nbsp;&nbsp;route_table_id = aws_route_table.public.id<br>
                        }
                    </div>
                </div>
            </section>

            <!-- Section 4 -->
            <section id="connectivity" class="section-card">
                <div class="section-header bg-orange-600">
                    <h2 class="text-2xl font-bold">4. 외부 연결 (IGW & NAT GW)</h2>
                </div>
                <div class="p-8">
                    <p class="mb-4">**IGW**(인터넷 게이트웨이)는 외부 양방향 관문이며, **NAT Gateway**(주소 변환 게이트웨이)는 내부 전용 아웃바운드 관문입니다.</p>

                    <div class="lab-block">
                        <span class="lab-title"># AWS CLI: NAT 게이트웨이 배포</span>
                        aws ec2 allocate-address --domain vpc<br>
                        aws ec2 create-nat-gateway --subnet-id [PUB_SUB_ID] --allocation-id [EIP_ID]

                        <span class="tf-title"># Terraform: NAT 게이트웨이 및 EIP 정의</span>
                        resource "aws_eip" "nat" { vpc = true }<br><br>
                        resource "aws_nat_gateway" "main" {<br>
                        &nbsp;&nbsp;allocation_id = aws_eip.nat.id<br>
                        &nbsp;&nbsp;subnet_id     = aws_subnet.public_a.id<br>
                        }
                    </div>
                    <div class="billing-alert">
                        <strong>유료 서비스 경고:</strong> NAT Gateway는 시간당 비용($0.045)이 즉시 발생하므로 실습 후 반드시 리소스를 제거해야 합니다. 테라폼의 `destroy` 명령이 효율적입니다.
                    </div>
                </div>
            </section>

            <!-- Section 5 -->
            <section id="security" class="section-card">
                <div class="section-header bg-red-900">
                    <h2 class="text-2xl font-bold">5. 보안 계층 (SG & NACL)</h2>
                </div>
                <div class="p-8">
                    <p class="mb-4">**Security Group**(보안 그룹)은 인스턴스 단위의 **Stateful**(상태 저장) 방화벽입니다.</p>

                    <div class="lab-block">
                        <span class="lab-title"># AWS CLI: 보안 그룹 규칙 추가</span>
                        aws ec2 authorize-security-group-ingress --group-id [SG_ID] --protocol tcp --port 80 --cidr 0.0.0.0/0

                        <span class="tf-title"># Terraform: 보안 그룹 및 인바운드 규칙</span>
                        resource "aws_security_group" "web" {<br>
                        &nbsp;&nbsp;name = "web-sg" | vpc_id = aws_vpc.main.id<br><br>
                        &nbsp;&nbsp;ingress {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;from_port = 80 | to_port = 80 | protocol = "tcp"<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;cidr_blocks = ["0.0.0.0/0"]<br>
                        &nbsp;&nbsp;}<br>
                        }
                    </div>
                </div>
            </section>

            <!-- Section 6 -->
            <section id="endpoints" class="section-card">
                <div class="section-header bg-blue-800">
                    <h2 class="text-2xl font-bold">6. VPC 엔드포인트 (PrivateLink)</h2>
                </div>
                <div class="p-8">
                    <p class="mb-4">인터넷을 타지 않고 AWS 서비스를 프라이빗하게 연동하는 핵심 기술입니다.</p>

                    <div class="lab-block">
                        <span class="lab-title"># AWS CLI: S3 게이트웨이 엔드포인트 생성</span>
                        aws ec2 create-vpc-endpoint --vpc-id [VPC_ID] --service-name com.amazonaws.ap-northeast-2.s3

                        <span class="tf-title"># Terraform: S3 Gateway 엔드포인트 정의</span>
                        resource "aws_vpc_endpoint" "s3" {<br>
                        &nbsp;&nbsp;vpc_id       = aws_vpc.main.id<br>
                        &nbsp;&nbsp;service_name = "com.amazonaws.ap-northeast-2.s3"<br>
                        &nbsp;&nbsp;route_table_ids = [aws_route_table.private.id]<br>
                        }
                    </div>
                </div>
            </section>

            <!-- Section 7 -->
            <section id="hybrid" class="section-card">
                <div class="section-header bg-emerald-800">
                    <h2 class="text-2xl font-bold">7. 하이브리드 및 상호 연결</h2>
                </div>
                <div class="p-8">
                    <p class="mb-4">**VPC Peering**(피어링)은 서로 다른 VPC 간의 전용망 연결을 구성합니다.</p>

                    <div class="lab-block">
                        <span class="lab-title"># AWS CLI: VPC 피어링 요청</span>
                        aws ec2 create-vpc-peering-connection --vpc-id [VPC_A] --peer-vpc-id [VPC_B]

                        <span class="tf-title"># Terraform: VPC 피어링 연결 정의</span>
                        resource "aws_vpc_peering_connection" "peer" {<br>
                        &nbsp;&nbsp;vpc_id      = aws_vpc.vpc_a.id<br>
                        &nbsp;&nbsp;peer_vpc_id = aws_vpc.vpc_b.id<br>
                        &nbsp;&nbsp;auto_accept = true<br>
                        }
                    </div>
                </div>
            </section>

            <!-- Section 8 -->
            <section id="best-practices" class="section-card">
                <div class="section-header bg-slate-900">
                    <h2 class="text-2xl font-bold">8. 엔터프라이즈 설계 모범 사례</h2>
                </div>
                <div class="p-8">
                    <h3 class="font-bold mb-4 text-blue-800">가용 영역(AZ) 고가용성 설계 원칙</h3>
                    <p class="text-sm leading-relaxed mb-6">
                        진정한 전문가 아키텍처는 하나의 **AZ** 장애가 전체 서비스 중단으로 이어지지 않도록 **Multi-AZ**(멀티 가용 영역) 설계를 필수적으로 적용합니다. 최소 2개 이상의 AZ에 서브넷과 게이트웨이를 분산 배치해야 합니다.
                    </p>
                    <div class="lab-block">
                        <span class="tf-title"># Terraform Best Practice: AZ 리스트 동적 활용</span>
                        data "aws_availability_zones" "available" {}<br><br>
                        resource "aws_subnet" "multi_az" {<br>
                        &nbsp;&nbsp;count = 2<br>
                        &nbsp;&nbsp;vpc_id = aws_vpc.main.id<br>
                        &nbsp;&nbsp;cidr_block = "10.0.${count.index}.0/24"<br>
                        &nbsp;&nbsp;availability_zone = data.aws_availability_zones.available.names[count.index]<br>
                        }
                    </div>
                </div>
            </section>

            <!-- Section 9 -->
            <section id="monitoring" class="section-card">
                <div class="section-header bg-slate-600">
                    <h2 class="text-2xl font-bold">9. 모니터링 및 로깅</h2>
                </div>
                <div class="p-8">
                    <p class="mb-4">**VPC Flow Logs**(플로우 로그)는 네트워크 인터페이스의 모든 트래픽을 감시합니다.</p>

                    <div class="lab-block">
                        <span class="lab-title"># AWS CLI: 플로우 로그 활성화</span>
                        aws ec2 create-flow-logs --resource-type VPC --resource-ids [VPC_ID] --traffic-type ALL

                        <span class="tf-title"># Terraform: VPC 플로우 로그 리소스</span>
                        resource "aws_flow_log" "main" {<br>
                        &nbsp;&nbsp;log_destination = aws_s3_bucket.logs.arn<br>
                        &nbsp;&nbsp;traffic_type    = "ALL"<br>
                        &nbsp;&nbsp;vpc_id          = aws_vpc.main.id<br>
                        }
                    </div>
                </div>
            </section>

            <!-- Section 10 -->
            <section id="billing" class="section-card">
                <div class="section-header bg-slate-900">
                    <h2 class="text-2xl font-bold">10. 비용 최적화 및 결론</h2>
                </div>
                <div class="p-8">
                    <p class="mb-6">클라우드 아키텍트는 가성비(Cost Performance)를 반드시 고려해야 합니다.</p>
                    <div class="lab-block">
                        <span class="lab-title"># AWS CLI: 미사용 EIP(탄력적 IP) 확인</span>
                        aws ec2 describe-addresses --query "Addresses[?AssociationId==null]"

                        <span class="tf-title"># Terraform Tip: 비용 관리를 위한 태깅 전략</span>
                        locals {<br>
                        &nbsp;&nbsp;common_tags = {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;Owner = "Infrastructure-Team" | Project = "Expert-Course"<br>
                        &nbsp;&nbsp;}<br>
                        }
                    </div>
                    <div class="billing-alert">
                        <strong>EIP 과금 경고:</strong> 할당된 **EIP**(Elastic IP, 탄력적 IP)가 실행 중인 인스턴스에 연결되어 있지 않으면 시간당 비용이 부과됩니다. 실습 후 반드시 릴리스(Release)하십시오.
                    </div>
                </div>
            </section>

            <footer class="mt-20 pt-10 border-t border-slate-200 text-center">
                <p class="text-slate-400 text-xs">© 2026 IP Expert Cloud Training Program. All rights reserved.</p>
                <p class="mt-2 font-bold text-slate-600">Next Step: VPC Endpoint 및 PrivateLink 기반 보안 설계 전략</p>
            </footer>
        </main>
    </div>
</body>
</html>
