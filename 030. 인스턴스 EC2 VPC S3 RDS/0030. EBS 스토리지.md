## 데이터의 안전한 저장소: Amazon EBS 및 스냅샷 실무 가이드

Amazon EBS(Elastic Block Store, 아마존 엘라스틱 블록 스토어)는 Amazon EC2(Elastic Compute Cloud, 아마존 엘라스틱 컴퓨트 클라우드) 인스턴스에 사용할 수 있는 **고성능 블록 스토리지 볼륨**입니다. PC의 SSD처럼 운영 체제를 설치하거나 데이터베이스를 실행하는 용도로 사용됩니다.

---

### 1. Amazon EBS의 주요 특징 및 실무 기준

* **인스턴스와 독립된 생명 주기**: EC2 인스턴스를 중지하거나 종료하더라도 EBS 볼륨은 데이터를 유지하도록 설정할 수 있습니다.
* **네트워크 연결 방식**: 물리적인 직접 연결이 아닌 AWS 내부의 전용 네트워크를 통해 연결됩니다. 따라서 **EBS-optimized instances(EBS 최적화 인스턴스)**를 사용하여 전용 대역폭을 확보하는 것이 실무 성능 확보의 핵심입니다.
* **고가용성**: 데이터는 **AZ(Availability Zone, 가용 영역)** 내에서 자동 복제되어 하드웨어 장애로부터 데이터를 보호합니다. 단, EBS는 특정 AZ에 종속되므로 타 AZ의 인스턴스에 연결하려면 **Snapshot(스냅샷, 특정 시점의 데이터 복사본)**을 이용해야 합니다.

---

### 2. EBS 스토리지 볼륨 유형 및 선택 전략

| 카테고리 | 볼륨 유형 | 명칭 | 주요 특징 및 실무 적용 기준 |
| --- | --- | --- | --- |
| **SSD군** | **gp3** | **General Purpose 3 (범용 3세대)** | **최고의 가성비.** 용량과 무관하게 **IOPS**와 **Throughput**을 독립적으로 설정 가능. gp2 대비 20% 저렴하여 실무 기본값으로 권장. |
|  | **io2** | **Provisioned IOPS (프로비저닝된 초당 입출력)** | **최고 성능.** 대규모 DB(SAP HANA, Oracle) 등 지연 시간에 극도로 민감한 환경에 사용. |
| **HDD군** | **st1** | **Throughput Optimized (처리량 최적화)** | 빅데이터 분석, 로그 처리 등 대용량 데이터의 연속적인 읽기/쓰기에 최적화. |
|  | **sc1** | **Cold HDD (콜드 HDD)** | 사용 빈도가 낮은 아카이브용. 가장 저렴한 비용으로 데이터 보관. |

* **IOPS(Input/Output Operations Per Second, 초당 입출력 횟수)**: 데이터 입출력 속도의 척도입니다.
* **Throughput(처리량, 초당 데이터 전송량)**: 초당 전송되는 데이터의 양(MB/s)을 의미합니다.

---

### 3. 백업 및 가용성 전략: EBS 스냅샷 (Snapshots)

EBS 스냅샷은 특정 시점의 볼륨 상태를 **Amazon S3(Simple Storage Service, 아마존 심플 스토리지 서비스)**에 백업하는 기능입니다.

* **증분 백업(Incremental)**: 마지막 스냅샷 이후 변경된 블록만 저장하여 공간과 비용을 절약합니다.
* **DLM(Data Lifecycle Manager, 데이터 수명 주기 관리자) 활용**: 스냅샷 생성을 자동화하여 '7일 보관 후 삭제'와 같은 정책을 운영합니다.
* **FSR(Fast Snapshot Restore, 빠른 스냅샷 복구)**: 스냅샷 복구 시 발생하는 초기 지연 시간(Lazy Loading)을 제거하여 긴급 복구 성능을 보장합니다.
* **AMI(Amazon Machine Image, 아마존 머신 이미지) 생성**: 스냅샷을 기반으로 AMI를 만들어 동일 설정의 서버를 대량 복제합니다.

---

### 4. 실무 검토 사례 (Case Study)

| 검토 항목 | 실제 사례 상황 | 적용된 실무 기준 및 해결책 |
| --- | --- | --- |
| **비용 절감** | 월 $5,000의 gp2 비용 발생 | **gp3**로 전환하여 성능 유지 및 **비용 20%($1,000) 즉시 절감** |
| **성능 장애** | DB 응답 속도가 간헐적으로 느려짐 | **CloudWatch**로 `BurstBalance`(버스트 잔량) 확인. 크레딧 고갈 확인 후 **gp3 전환 및 IOPS 추가 할당** |
| **데이터 보안** | 금융권 컴플라이언스 대응 | **KMS(Key Management Service, 키 관리 서비스)**를 통한 볼륨 암호화 적용 및 정책 강제화 |
| **재해 복구** | 리전 장애 대비 | **DLM** 정책을 통해 스냅샷을 **타 리전(Cross-Region)으로 자동 복사** |

---

### 5. 핵심 주의사항 및 체크리스트

1. **미사용 볼륨(Zombie Volumes) 관리**: EC2가 종료되어도 EBS는 남아 **지속적으로 과금**될 수 있습니다. 사용하지 않는 볼륨은 스냅샷 생성 후 즉시 삭제하십시오.
2. **종료 시 삭제(Delete on Termination) 설정**: 중요 데이터가 담긴 볼륨은 이 옵션이 활성화되어 서버 삭제 시 함께 날아가지 않도록 주의해야 합니다.
3. **볼륨 크기 조정(Elastic Volumes)**: 서비스 중단 없이 크기를 키우거나 유형 변경(gp2 -> gp3)이 가능합니다. 단, **용량을 줄이는 것은 불가능**하므로 초기 설계 시 유의하십시오.

> **과금 주의 사항**
> * **인스턴스 중지 상태**: CPU/RAM 비용은 안 나가지만, 할당된 **EBS 용량에 대한 비용은 계속 청구**됩니다.
> * **Provisioned IOPS**: io2 등에서 설정한 IOPS 값은 실제 사용 여부와 관계없이 **예약된 수치만큼 과금**됩니다.
> 
> 

---

Next Step: **Amazon S3 계층 관리** 및 **비용 최적화** 방법 가이드 생성하기.
