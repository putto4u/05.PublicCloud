## 무한한 확장성의 클라우드 저장소: Amazon S3 활용 가이드

**Amazon S3(Simple Storage Service, 아마존 심플 스토리지 서비스)**는 업계 최고의 확장성, 데이터 가용성, 보안 및 성능을 제공하는 **객체 스토리지 서비스**입니다. 실무에서는 정적 웹 호스팅, 빅데이터 분석, 백업 및 아카이브 등 거의 모든 클라우드 아키텍처의 데이터 종착점으로 활용됩니다.

---

### 1. S3의 핵심 개념 (객체 vs 블록)

S3는 파일 시스템이나 하드디스크와 같은 블록 스토리지가 아닌 **객체(Object)** 기반 스토리지입니다.

* **버킷(Bucket, 바구니)**: 객체를 저장하는 최상위 컨테이너입니다. 이름은 전 세계 AWS 리전에서 유일해야 합니다.
* **객체(Object)**: 데이터(파일)와 메타데이터(파일 정보)의 결합체입니다.
* **키(Key)**: 객체의 고유한 식별자(파일명 및 경로)입니다. `folder/sub/file.jpg`와 같이 경로 형태를 띠지만 실제로는 평면적인 구조입니다.

---

### 2. S3 스토리지 클래스 (비용 및 용도별 선택)

실무에서는 데이터의 접근 빈도에 따라 클래스를 나누어 비용을 최적화합니다.

| 클래스 명칭 | 특징 및 용도 | 비용 특성 |
| --- | --- | --- |
| **S3 Standard (S3 표준)** | 자주 사용하는 데이터. 웹 사이트 이미지, 앱 로그 등. | 저장 비용 높음, 요청 비용 낮음. |
| **S3 Intelligent-Tiering (S3 인텔리전트 티어링)** | 접근 패턴을 모를 때 사용. 접근 빈도에 따라 자동 이동. | 모니터링 수수료 발생. |
| **S3 Standard-IA (Standard-Infrequent Access, 표준-자주 액세스하지 않음)** | 자주 보지는 않지만 즉시 접근이 필요한 데이터. (예: 지난달 보고서) | 저장 비용 저렴, **데이터 인출 비용 발생.** |
| **S3 Glacier Flexible Retrieval (S3 글레이셔 플렉시블 리트리벌)** | 아카이브용. 데이터 복구에 몇 분~몇 시간이 소요됨. (예: 세무 기록) | 매우 저렴한 저장 비용. |
| **S3 Glacier Deep Archive (S3 글레이셔 딥 아카이브)** | 7~10년 보관이 필요한 규정 준수용 데이터. 복구에 12시간 소요. | 최저가 스토리지. |

---

### 3. 주요 기능 및 실무 활용

#### **정적 웹 사이트 호스팅 (Static Web Hosting)**

HTML, CSS, JS 파일을 버킷에 올리면 별도의 웹 서버(EC2 등) 없이도 웹 사이트를 배포할 수 있습니다.

* **장점**: 서버 관리 부담 제로, 트래픽 급증에도 안정적, 매우 저렴한 비용.

#### **버전 관리 (Versioning)**

객체의 이전 버전을 보존하는 기능입니다. 실수로 파일을 삭제하거나 덮어썼을 때 즉시 복구할 수 있어 실무에서 **보안 및 실수 방지** 차원에서 필수적으로 활성화합니다.

#### **수명 주기 정책 (Lifecycle Policy)**

데이터를 자동으로 관리하는 규칙입니다.

* **예**: "생성 후 30일이 지나면 Standard-IA로 이동, 90일이 지나면 Glacier로 이동, 3년 후 삭제."

#### **복제 (Replication)**

데이터 가용성을 위해 다른 가용 영역이나 다른 **Region(리전, 지리적 위치)**으로 데이터를 실시간 복제합니다.

---

### 4. 보안 및 접근 제어

1. **IAM(Identity and Access Management, 식별 및 액세스 관리) 정책**: 특정 사용자나 서비스(EC2 등)에 S3 접근 권한을 부여합니다.
2. **버킷 정책(Bucket Policy)**: 버킷 레벨에서 접근 규칙을 정의합니다. (예: 특정 IP에서만 접근 허용, 퍼블릭 읽기 허용 등)
3. **퍼블릭 액세스 차단(Block Public Access)**: 실수로 데이터가 외부에 공개되는 것을 방지하는 강력한 보호 계층입니다. 실무에서는 특별한 이유가 없다면 항상 **On(활성화)** 상태를 유지합니다.

---

### 5. 실무 체크리스트 및 주의사항

1. **퍼블릭 노출 주의**: 개인 정보나 중요 소스코드가 담긴 버킷이 퍼블릭으로 설정되지 않았는지 반드시 확인하십시오.
2. **데이터 인출 비용(Data Retrieval Fee)**: IA 또는 Glacier 클래스에서 데이터를 꺼낼 때 발생하는 비용을 고려해야 합니다. 무조건 저장 비용이 싸다고 Glacier로 옮겼다가 빈번하게 인출하면 요금 폭탄을 맞을 수 있습니다.
3. **데이터 암호화**: **SSE(Server-Side Encryption, 서버 측 암호화)**를 활성화하여 저장된 데이터를 보호하십시오.

---

> **과금 주의 사항**
> * **데이터 전송 비용(Data Transfer Out)**: S3에서 인터넷(외부)으로 데이터를 내보낼 때 비용이 발생합니다. (AWS 내부 간 이동은 무료인 경우가 많음)
> * **API 요청 비용**: 객체를 읽고(`GET`), 쓰고(`PUT`), 리스트를 확인하는(`LIST`) 행위 자체가 모두 비용입니다. 아주 작은 파일 수백만 개를 자주 조회하면 비용이 급증할 수 있습니다.
> 
> 

Next Step: **CloudFront(클라우드프론트)**를 통한 **S3 콘텐츠 전송 최적화** 방법 가이드 생성하기.
