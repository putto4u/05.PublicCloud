# â˜ï¸ AWS ì¸í”„ë¼ ìë™í™” ë° ì›¹ ì„œë¹„ìŠ¤ êµ¬ì¶• ì‹¤ìŠµ êµì•ˆ
ì´ êµì•ˆì€ AWS ì½˜ì†” í™˜ê²½ì—ì„œ ì§ì ‘ í´ë¦­í•˜ë©° ì¸í”„ë¼ë¥¼ êµ¬ì„±í•˜ëŠ” ê³¼ì •ê³¼, ì´ë¥¼ í…Œë¼í¼(Terraform) ì½”ë“œë¡œ ìë™í™”í•˜ëŠ” ë°©ë²•ì„ ë°°ìš¸ ìˆ˜ ìˆë„ë¡ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. 
---
## ğŸ“‹ ëª©ì°¨ (Curriculum)
1. **[ë„¤íŠ¸ì›Œí¬ ê¸°ë³¸]** VPC ë° ì„œë¸Œë„·, ë³´ì•ˆ ê·¸ë£¹ êµ¬ì„±
2. **[DB ì„œë²„]** Amazon RDS ìƒì„± (ë°±ì—”ë“œ ë°ì´í„° ì €ì¥ì†Œ)
3. **[ë°±ì—”ë“œ ì›¹]** Amazon EC2 ë° Application Load Balancer êµ¬ì„±
4. **[í”„ë¡ íŠ¸ì›¹ & ìŠ¤í† ë¦¬ì§€]** Amazon S3 ì •ì  í˜¸ìŠ¤íŒ… ë° CloudFront ì—°ê²°
5. **[ë„ë©”ì¸ ì—°ê²°]** Amazon Route 53ì„ ì´ìš©í•œ ë„ë©”ì¸ ë§¤í•‘
6. **[IaC ìë™í™”]** í…Œë¼í¼(Terraform) ëª¨ë¸ë§ ë° ì‹¤í–‰ (HCL ìŠ¤í¬ë¦½íŠ¸)
*(ì°¸ê³ : í…Œë¼í¼ì€ ê¸°ë³¸ì ìœ¼ë¡œ YAMLì´ ì•„ë‹Œ HCL í˜•ì‹(`.tf`)ì„ í‘œì¤€ìœ¼ë¡œ ì‚¬ìš©í•˜ë¯€ë¡œ, ë³¸ êµì•ˆì—ì„œëŠ” í…Œë¼í¼ í‘œì¤€ ë¬¸ë²•ì¸ HCLì„ ê¸°ì¤€ìœ¼ë¡œ ì‹¤ìŠµ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.)*
---
## 1. ë„¤íŠ¸ì›Œí¬ ê¸°ë³¸ ì„¤ì • (VPC)
ëª¨ë“  ë¦¬ì†ŒìŠ¤ê°€ ì•ˆì „í•˜ê²Œ í†µì‹ í•  ìˆ˜ ìˆëŠ” ìš¸íƒ€ë¦¬ë¥¼ ë§Œë“­ë‹ˆë‹¤.
### ğŸ’» AWS ì½˜ì†” ì‹¤ìŠµ ë©”ë‰´
1. AWS ì½˜ì†”ì—ì„œ **[VPC]** ì„œë¹„ìŠ¤ ê²€ìƒ‰ ë° ì´ë™
2. ì¢Œì¸¡ ë©”ë‰´ **[VPC ëŒ€ì‹œë³´ë“œ]** -> **[VPC ìƒì„±]** í´ë¦­
3. **VPC ì„¤ì • ì…ë ¥ í™”ë©´**:
   - **ìƒì„±í•  ë¦¬ì†ŒìŠ¤**: `VPC ë“±(VPC and more)` ì„ íƒ (ì„œë¸Œë„·, ë¼ìš°íŒ… í…Œì´ë¸”ì„ í•œ ë²ˆì— ìƒì„±)
   - **ì´ë¦„ íƒœê·¸ ìë™ ìƒì„±**: `my-practice-env`
   - **IPv4 CIDR ë¸”ë¡**: `10.0.0.0/16`
   - **ê°€ìš© ì˜ì—­(AZ) ìˆ˜**: `2ê°œ` (ì´ì¤‘í™”ë¥¼ ìœ„í•´)
   - **í¼ë¸”ë¦­ ì„œë¸Œë„· ìˆ˜**: `2ê°œ` (ì›¹ì„œë²„, ë¡œë“œë°¸ëŸ°ì„œ ìš©)
   - **í”„ë¼ì´ë¹— ì„œë¸Œë„· ìˆ˜**: `2ê°œ` (DB/ë°±ì—”ë“œ ìš©)
   - **NAT ê²Œì´íŠ¸ì›¨ì´**: `1ê°œ` (í”„ë¼ì´ë¹— ì„œë¸Œë„·ì˜ ì¸í„°ë„· ì ‘ì†ìš©)
4. ìš°ì¸¡ í•˜ë‹¨ì˜ **[VPC ìƒì„±]** ë²„íŠ¼ í´ë¦­
---
## 2. DB ì„œë²„ êµ¬ì¶• (Amazon RDS)
ë°±ì—”ë“œ ì„œë²„ê°€ ë°”ë¼ë³¼ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤. í”„ë¼ì´ë¹— ì„œë¸Œë„·ì— ë°°ì¹˜í•˜ì—¬ ë³´ì•ˆì„ ë†’ì…ë‹ˆë‹¤.
### ğŸ’» AWS ì½˜ì†” ì‹¤ìŠµ ë©”ë‰´
1. **[RDS]** ì„œë¹„ìŠ¤ ì ‘ì† -> **[ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±]**
2. **ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± ë°©ì‹ ì„ íƒ**: `í‘œì¤€ ìƒì„±(Standard Create)`
3. **ì—”ì§„ ì˜µì…˜**: `MySQL` í˜¹ì€ `PostgreSQL` ì„ íƒ
4. **í…œí”Œë¦¿**: `í”„ë¦¬í‹°ì–´(Free tier)` í˜¹ì€ `ê°œë°œ/í…ŒìŠ¤íŠ¸`
5. **ì„¤ì • í™”ë©´**:
   - **DB ì¸ìŠ¤í„´ìŠ¤ ì‹ë³„ì**: `my-backend-db`
   - **ë§ˆìŠ¤í„° ì‚¬ìš©ì ì´ë¦„**: `admin`
   - **ë§ˆìŠ¤í„° ì•”í˜¸**: (ë¹„ë°€ë²ˆí˜¸ ì§€ì •. ì˜ˆ: `Test1234!`)
6. **ì—°ê²° (ë„¤íŠ¸ì›Œí¬) ì„¤ì •**:
   - **Virtual Private Cloud (VPC)**: ì´ì „ ë‹¨ê³„ì—ì„œ ë§Œë“  `my-practice-env-vpc` ì„ íƒ
   - **í¼ë¸”ë¦­ ì•¡ì„¸ìŠ¤**: `ì•„ë‹ˆìš”(No)` (ì›¹ ì„œë²„ë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡)
   - **VPC ë³´ì•ˆ ê·¸ë£¹**: ìƒˆë¡œ ìƒì„± (ì´ë¦„: `db-sec-group`, ë°±ì—”ë“œ EC2ì˜ ì ‘ê·¼ë§Œ í—ˆìš©í•˜ë„ë¡ í¬íŠ¸ 3306(MySQL) ì—´ê¸°)
7. í•˜ë‹¨ **[ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±]** í´ë¦­
---
## 3. ë°±ì—”ë“œ ì›¹ ì„œë²„ êµ¬ì¶• (Amazon EC2 & ALB)
API ìš”ì²­ì„ ì²˜ë¦¬í•  ë°±ì—”ë“œ ì„œë²„ë¥¼ ë§Œë“­ë‹ˆë‹¤.
### ğŸ’» AWS ì½˜ì†” ì‹¤ìŠµ ë©”ë‰´ (EC2 ì„¤ì •)
1. **[EC2]** ì„œë¹„ìŠ¤ ì ‘ì† -> **[ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘]**
2. **ì´ë¦„ ë° íƒœê·¸**: `Backend-WebServer`
3. **OS ì´ë¯¸ì§€(AMI)**: `Amazon Linux 2023 AMI` ë˜ëŠ” `Ubuntu 22.04 LTS`
4. **ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•**: `t2.micro` (í”„ë¦¬í‹°ì–´ ì§€ì›)
5. **í‚¤ í˜ì–´(ë¡œê·¸ì¸)**: ìƒˆ í‚¤ í˜ì–´ ìƒì„± (ì´ë¦„: `backend-key`, .pem ë‹¤ìš´ë¡œë“œí•˜ì—¬ ì•ˆì „í•œ ê³³ì— ë³´ê´€)
6. **ë„¤íŠ¸ì›Œí¬ ì„¤ì • (ì¤‘ìš”)**:
   - **[í¸ì§‘]** í´ë¦­ -> VPC: `my-practice-env-vpc`
   - **ì„œë¸Œë„·**: í¼ë¸”ë¦­ ì„œë¸Œë„· ì„ íƒ (í˜¹ì€ í”„ë¼ì´ë¹—+ALB ì¡°í•©)
   - **ìë™ í• ë‹¹ í¼ë¸”ë¦­ IP**: `í™œì„±í™”` (ë‹¨ë… í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ í™œì„±í™”)
   - **ë³´ì•ˆ ê·¸ë£¹ ìƒì„±**: SSH(22), HTTP(80), ë°±ì—”ë“œ API í¬íŠ¸(8080 ë“±) Anywhere í—ˆìš© ì§€ì •
7. **[ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘]** í´ë¦­
### ğŸ’» ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œë“œë°¸ëŸ°ì„œ (ALB) ë¶™ì´ê¸°
1. ì¢Œì¸¡ ë©”ë‰´ **[ë¡œë“œ ë°¸ëŸ°ì‹±]** -> **[ëŒ€ìƒ ê·¸ë£¹(Target Group)]** ìƒì„±
   - Target type: `Instances` -> í¬íŠ¸ `8080`(ë°±ì—”ë“œí¬íŠ¸) -> ìœ„ì—ì„œ ë§Œë“  EC2 ì„ íƒ
2. ì•ì„œ ë§Œë“  ëŒ€ìƒ ê·¸ë£¹ì„ ë°”ë¼ë³´ëŠ” **[ë¡œë“œ ë°¸ëŸ°ì„œ ìƒì„±]** -> `Application Load Balancer` ì„ íƒ -> í¼ë¸”ë¦­ ì„œë¸Œë„· ë§¤í•‘
---
## 4. í”„ë¡ íŠ¸ì—”ë“œ ì›¹ ì„œë²„ ë° S3 ìŠ¤í† ë¦¬ì§€
React, Vue ë“±ì˜ ë¹Œë“œëœ ì •ì  ì›¹ íŒŒì¼ì„ í˜¸ìŠ¤íŒ…í•˜ê¸° ìœ„í•´ S3ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
### ğŸ’» AWS ì½˜ì†” ì‹¤ìŠµ ë©”ë‰´
1. **[S3]** ì„œë¹„ìŠ¤ ì ‘ì† -> **[ë²„í‚· ë§Œë“¤ê¸°]**
2. **ì¼ë°˜ êµ¬ì„±**:
   - **ë²„í‚· ì´ë¦„**: ê³ ìœ í•œ ì´ë¦„ ì‘ì„± (ì˜ˆ: `my-front-web-2023xx`)
   - **AWS ë¦¬ì „**: `ap-northeast-2 (ì„œìš¸)`
3. **ê°ì²´ ì†Œìœ ê¶Œ / í¼ë¸”ë¦­ ì•¡ì„¸ìŠ¤ ì°¨ë‹¨**:
   - (ê²½ê³  ì°½ì´ ëœ¨ì§€ë§Œ) `ëª¨ë“  í¼ë¸”ë¦­ ì•¡ì„¸ìŠ¤ ì°¨ë‹¨` **ì²´í¬ í•´ì œ** (ì›¹ í˜¸ìŠ¤íŒ…ìš©ì´ë¯€ë¡œ ê°œë°© í•„ìš”) -> ì²´í¬ë°•ìŠ¤ í™•ì¸ ë™ì˜
4. **[ë²„í‚· ë§Œë“¤ê¸°]** ì™„ë£Œ
5. ë²„í‚· í´ë¦­ í›„ **[ì†ì„±]** íƒ­ ê°€ì¥ ì•„ë˜ -> **[ì •ì  ì›¹ ì‚¬ì´íŠ¸ í˜¸ìŠ¤íŒ…]** `í¸ì§‘` í´ë¦­ -> `í™œì„±í™”` ì„ íƒ
   - ì¸ë±ìŠ¤ ë¬¸ì„œ: `index.html` ì…ë ¥ -> ì €ì¥
6. (ì„ íƒ) CloudFront ì—°ê²°:
   - **[CloudFront]** ì„œë¹„ìŠ¤ êµ¬ë™ -> Create Distribution -> Origin domainì„ S3 ë²„í‚·ìœ¼ë¡œ ì„¤ì •
---
## 5. ë„ë©”ì¸ ì—°ê²° (Amazon Route 53)
êµ¬ë§¤í•œ ë„ë©”ì¸ì„ ìš°ë¦¬ê°€ ë§Œë“  í”„ë¡ íŠ¸ì›¹(S3/CloudFront) í˜¹ì€ ë°±ì—”ë“œ(ALB)ì— ì—°ê²°í•©ë‹ˆë‹¤.
### ğŸ’» AWS ì½˜ì†” ì‹¤ìŠµ ë©”ë‰´
1. **[Route 53]** -> ì¢Œì¸¡ **[í˜¸ìŠ¤íŒ… ì˜ì—­(Hosted zones)]** -> **[í˜¸ìŠ¤íŒ… ì˜ì—­ ìƒì„±]**
2. **ë„ë©”ì¸ ì´ë¦„**: êµ¬ë§¤í•œ/ë³´ìœ í•œ ë„ë©”ì¸ëª… (ì˜ˆ: `mypractice.com`)
3. **ìœ í˜•**: `í¼ë¸”ë¦­ í˜¸ìŠ¤íŒ… ì˜ì—­` -> ìƒì„± ë²„íŠ¼
4. **DNS ë ˆì½”ë“œ ìƒì„±**:
   - **[ë ˆì½”ë“œ ìƒì„±(Create record)]** ë²„íŠ¼ í´ë¦­
   - ë¼ìš°íŒ… ì •ì±…: `ë‹¨ìˆœ ë¼ìš°íŒ…(Simple routing)`
   - **ë ˆì½”ë“œ ì´ë¦„**: `www` í˜¹ì€ ë¹„ì›Œë‘  (ë£¨íŠ¸ ë„ë©”ì¸)
   - **ê°’/íŠ¸ë˜í”½ ë¼ìš°íŒ… ëŒ€ìƒ**:
     - `ë³„ì¹­(Alias)` ìŠ¤ìœ„ì¹˜ ON
     - ì—”ë“œí¬ì¸íŠ¸ ì„ íƒ: `S3 ì›¹ì‚¬ì´íŠ¸ ì—”ë“œí¬ì¸íŠ¸ì— ëŒ€í•œ ë³„ì¹­` í˜¹ì€ `Application/Classic Load Balancerì— ëŒ€í•œ ë³„ì¹­` ì„ íƒ
     - ì§€ì—­: `ì„œìš¸(ap-northeast-2)` ì§€ì • í›„ ìì› ì„ íƒ
   - **[ë ˆì½”ë“œ ìƒì„±]** ì™„ë£Œ
---
## 6. í…Œë¼í¼(Terraform)ìœ¼ë¡œ Infrastructure as Code (IaC) êµ¬í˜„
ìœ„ì—ì„œ ìˆ˜ë™ìœ¼ë¡œ í´ë¦­í•˜ì—¬ ë§Œë“  ê²ƒì„ í•˜ë‚˜ì˜ `main.tf` ì½”ë“œë¡œ ì •ì˜í•˜ê³  ìë™ ë°°í¬í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ì‹¤ë¬´ì—ì„œëŠ” ì´ëŸ¬í•œ ë°©ì‹ì„ ì£¼ë¡œ ì·¨í•©ë‹ˆë‹¤. (YAMLì´ ì•„ë‹Œ HCL ë¬¸ë²• ì‘ì„±)
### 1ë‹¨ê³„: í…Œë¼í¼ íŒŒì¼ ì‘ì„± (`main.tf`)
ì‘ì—…í•  ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  `main.tf`ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
```hcl
# 1. AWS í”„ë¡œë°”ì´ë” ì„¤ì •
provider "aws" {
  region = "ap-northeast-2"
}
# 2. VPC ë° ì„œë¸Œë„· ì˜ˆì‹œ
resource "aws_vpc" "main" {
  cidr_block = "10.0.0.0/16"
  tags = { Name = "my-tf-vpc" }
}
resource "aws_subnet" "public" {
  vpc_id                  = aws_vpc.main.id
  cidr_block              = "10.0.1.0/24"
  map_public_ip_on_launch = true
  tags = { Name = "my-tf-public-subnet" }
}
# 3. ë°±ì—”ë“œ EC2 ì¸ìŠ¤í„´ìŠ¤
resource "aws_instance" "backend_web" {
  ami           = "ami-0eb14fe5735c13eb5" # Amazon Linux 2 (ap-northeast-2)
  instance_type = "t2.micro"
  subnet_id     = aws_subnet.public.id
  
  tags = {
    Name = "Backend-TF-Server"
  }
}
# 4. í”„ë¡ íŠ¸ì›¹ìš© S3 ë²„í‚· ìƒì„±
resource "aws_s3_bucket" "frontend_bucket" {
  bucket = "my-front-web-tf-example-12345"
}
# S3 í¼ë¸”ë¦­ ìƒíƒœ ì„¤ì •
resource "aws_s3_bucket_public_access_block" "public_access" {
  bucket = aws_s3_bucket.frontend_bucket.id
  block_public_acls       = false
  block_public_policy     = false
  ignore_public_acls      = false
  restrict_public_buckets = false
}
```
### 2ë‹¨ê³„: í…Œë¼í¼ ëª…ë ¹ì–´ ì‹¤í–‰ ë°©ë²• (í„°ë¯¸ë„)
ì½”ë“œë¥¼ ëª¨ë‘ ì‘ì„±í•œ ë’¤ ì½˜ì†”ì°½(Terminal, PowerShell ë“±)ì—ì„œ ë‹¤ìŒ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.
1. **í…Œë¼í¼ ì´ˆê¸°í™” (í”ŒëŸ¬ê·¸ì¸ ë‹¤ìš´ë¡œë“œ)**
   ```bash
   terraform init
   ```
2. **ì‹¤í–‰ ê³„íš í™•ì¸ (ì–´ë–¤ ë¦¬ì†ŒìŠ¤ê°€ ë§Œë“¤ì–´ì§ˆì§€ ë¯¸ë¦¬ë³´ê¸°)**
   ```bash
   terraform plan
   ```
3. **ì¸í”„ë¼ ìƒì„± ì ìš© (ì‹¤ì œ AWS ìì› ë³€ê²½)**
   *(ì‹¤í–‰ ì „ AWS ìê²© ì¦ëª…(aws configure)ì´ PCì— ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.)*
   ```bash
   terraform apply
   ```
   - ì¤‘ê°„ì— `Enter a value:` ê°€ ë‚˜ì˜¤ë©´ `yes` ë¥¼ ì…ë ¥í•˜ì—¬ ìŠ¹ì¸í•©ë‹ˆë‹¤.
4. **ì‹¤ìŠµ ì¢…ë£Œ í›„ ë¦¬ì†ŒìŠ¤ ì‚­ì œ (ê³¼ê¸ˆ ë°©ì§€ìš©)**
   ```bash
   terraform destroy
   ```
